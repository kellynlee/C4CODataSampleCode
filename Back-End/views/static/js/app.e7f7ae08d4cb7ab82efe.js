webpackJsonp([1],{"0Y+k":function(t,e){},E51W:function(t,e){},GVxP:function(t,e){},eBd3:function(t,e){},lVK7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app"},[e("div",{staticClass:"content"},[e("router-view")],1)])},staticRenderFns:[]};var s=a("VU/8")({data:function(){return{}}},o,!1,function(t){a("zeQu")},null,null).exports,n=a("/ocq"),r=a("g4PW"),c=a.n(r),l=a("SHZo"),u=(a("OMJi"),{data:function(){return{form:{title:"",description:"",serialID:"",priority:"",date:""},Submit:"Submit",isSubmit:!1,validateRules:[{validate:function(t){return!!t},message:"Please input Title"}]}},methods:{submitTicket:function(){var t=this,e=c()("production","production");this.form.title?(this.isSubmit=!0,this.$axios({url:this.CONFIG.url.createTicket,data:{Name:this.form.title,SerialID:this.form.serialID,ServicePriorityCode:this.form.priority,OnSiteArrivalDateTime:this.form.date},method:"post"}).then(function(a){console.log(a),200==a.status&&(t.isSubmit=!1,t.$toast.success("Create Successfully"),e&&l.a.ready(function(){l.a.closeWindow()}))})):this.$alert()},cancelInput:function(){this.form={title:"",description:"",serialID:"",priority:"",date:""}}},mounted:function(){this.$axios({method:"post",url:this.CONFIG.url.wxConfig}).then(function(t){console.log(l.a),l.a.config({debug:!0,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["closeWindow"]})})}}),m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mainContent"},[a("mu-form",{attrs:{model:t.form}},[a("mu-form-item",{attrs:{label:"*Title",prop:"title",rules:t.validateRules}},[a("mu-text-field",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("mu-form-item",{attrs:{label:"Problem Description",prop:"description"}},[a("mu-text-field",{model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),a("mu-form-item",{attrs:{label:"SerialID",prop:"serialID"}},[a("mu-text-field",{model:{value:t.form.serialID,callback:function(e){t.$set(t.form,"serialID",e)},expression:"form.serialID"}})],1),t._v(" "),a("mu-form-item",{attrs:{label:"Priority",prop:"priority"}},[a("mu-text-field",{model:{value:t.form.priority,callback:function(e){t.$set(t.form,"priority",e)},expression:"form.priority"}})],1),t._v(" "),a("mu-form-item",{attrs:{label:"Request on-site Date",prop:"date"}},[a("mu-date-input",{attrs:{type:"dateTime"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),t._v(" "),a("mu-form-item",[a("mu-button",{directives:[{name:"loading",rawName:"v-loading",value:t.isSubmit,expression:"isSubmit"}],staticClass:"button",attrs:{color:"primary"},on:{click:t.submitTicket}},[t._v(t._s(t.Submit))]),t._v(" "),a("mu-button",{staticClass:"button",on:{click:t.cancelInput}},[t._v("Cancel")])],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(u,m,!1,function(t){a("eBd3")},null,null).exports,p={data:function(){return{inputValidator:[{validate:function(t){return!!t},message:"Please input phone number"}],formData:{phone:""},contactList:[],selectedContact:"",isClick:!1,isSelected:!1,isQuery:!0}},methods:{onSelect:function(){this.isSelected=!0},submitData:function(){var t=this,e=this,a=(this.CONFIG.Url,/^[0-9]*$/);this.$refs.form.validate().then(function(i){i?a.test(e.formData.phone)?e.formData.phone.length<11?e.$alert("Please input valid phone number"):e.$confirm("Confirm your information?","Confirm").then(function(a){a.result&&(e.isClick=!0,e.isQuery=!0,e.$axios({method:"post",url:t.CONFIG.url.getContactCollection,data:{phone:t.formData.phone}}).then(function(t){e.isClick=!1,e.isQuery=!1,console.log(t),t.data.isCreated?e.$toast.success("Success"):t.data.d.results.length>0?(e.$toast.success("Success"),e.contactList=t.data.d.results.concat()):e.$toast.error("No Contact Found")}))}):e.$alert("Please input number","Alert"):e.$alert("Please input phone","Alert")})},createBP:function(){var t=this,e=this,a=this.selectedContact.ObjectID.slice(0,8)+"-"+this.selectedContact.ObjectID.slice(8,12)+"-"+this.selectedContact.ObjectID.slice(12,16)+"-"+this.selectedContact.ObjectID.slice(16,20)+"-"+this.selectedContact.ObjectID.slice(20,this.selectedContact.ObjectID.length);this.$axios({url:this.CONFIG.url.createBP,method:"post",data:{UUID:a}}).then(function(a){t.$toast.success("Create Successfully"),e.isSelected=!1})},cancelInput:function(){this.formData.phone=""}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mainBody"},[a("mu-form",{ref:"form",attrs:{model:t.formData,"label-width":80}},[a("mu-form-item",{attrs:{prop:"phone",label:"Phone",rules:t.inputValidator}},[a("mu-text-field",{attrs:{prop:"phone"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),t._v(" "),a("mu-form-item",[a("mu-button",{directives:[{name:"loading",rawName:"v-loading",value:t.isClick,expression:"isClick"}],staticClass:"button",attrs:{color:"primary","data-mu-loading-size":"24",disabled:t.isClick},on:{click:t.submitData}},[t._v("Submit")]),t._v(" "),a("mu-button",{staticClass:"button",on:{click:t.cancelInput}},[t._v("Cancel")])],1)],1),t._v(" "),a("mu-paper",{staticClass:"paper",attrs:{"z-depth":4}},[t._l(t.contactList,function(e){return a("mu-flex",{key:e.id,staticClass:"radioContent"},[a("mu-radio",{staticClass:"radio",attrs:{value:e,label:e.FirstName},on:{change:t.onSelect},model:{value:t.selectedContact,callback:function(e){t.selectedContact=e},expression:"selectedContact"}})],1)}),t._v(" "),t.isSelected?a("mu-button",{directives:[{name:"loading",rawName:"v-loading",value:t.isClick,expression:"isClick"}],staticClass:"button",attrs:{color:"primary"},on:{click:t.createBP}},[t._v("Create")]):t._e(),t._v(" "),t.isSelected?a("mu-button",{staticClass:"button"},[t._v("Cancel")]):t._e()],2)],1)},staticRenderFns:[]};var h=a("VU/8")(p,f,!1,function(t){a("GVxP")},null,null).exports;i.a.use(n.a);var C=new n.a({mode:"history",routes:[{name:"SocialMediaActivityCreate",path:"/SocialMediaActivityCreate",component:d},{name:"ContactCollection",path:"/ContactCollection",component:h}]}),v=a("mtWM"),b=a.n(v),g=a("aFc6"),k=(a("E51W"),a("1kwf")),x=(a("0Y+k"),a("sXio")),D=a("w7Ps"),S=a("mrgY"),_=a.n(S);i.a.use(g.a),i.a.use(k.a),i.a.use(x.a),i.a.use(D.a),i.a.use(l.a),i.a.config.debug=!0,i.a.config.productionTip=!1,b.a.defaults.baseURL="api/",i.a.prototype.$axios=b.a,i.a.prototype.CONFIG=_.a,new i.a({el:"#app",router:C,template:"<App/>",components:{App:s}})},mrgY:function(t,e,a){const i=Object.is("production","production"),o=i?"https://c4codatasample.cfapps.us10.hana.ondemand.com":"http://localhost:4000",s={createTicket:o+"/createTicket",createBP:o+"/createBP",getContactCollection:o+"/getContactCollection",wxConfig:o+"/wxJssdk/getJssdk"};t.exports={baseUrl:i?"https://c4codatasample.cfapps.us10.hana.ondemand.com":"api/",url:s}},zeQu:function(t,e){}},["lVK7"]);
//# sourceMappingURL=app.e7f7ae08d4cb7ab82efe.js.map